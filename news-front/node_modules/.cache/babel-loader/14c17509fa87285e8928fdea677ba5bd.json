{"ast":null,"code":"var _jsxFileName = \"/Users/takatokondou/react-2/news-front/src/components/ApiFetch.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { withCookies } from \"react-cookie\";\nimport axios from \"axios\";\nimport { Card, Container, Col, Row } from \"react-bootstrap\";\n\nconst ApiFetch = props => {\n  const token = props.cookies.get(\"current-token\"); // console.log(token)\n\n  const [news, setNews] = useState([]);\n  useEffect(() => {\n    axios.get(\"http://127.0.0.1:8000/api/v1/\", {\n      headers: {\n        Authorization: `Token ${token}`\n      }\n    }).then(res => {\n      setNews(res.data);\n    });\n  }, [token]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, news.map(news => /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    key: news.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: news.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: news.image,\n    alt: \"news_img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    sm: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 23\n    }\n  }, news.title, \" \"), /*#__PURE__*/React.createElement(Card.Text, {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 23\n    }\n  }, news.body.slice(0, 105), \"...\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: news.link,\n    class: \"btn btn-outline-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 23\n    }\n  }, \"\\u7D9A\\u304D\\u3092\\u8AAD\\u3080\"), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 23\n    }\n  }, \"\\u66F4\\u65B0\\u65E5\\u6642\\uFF1A\", news.published))))))))));\n};\n\nexport default withCookies(ApiFetch);","map":{"version":3,"sources":["/Users/takatokondou/react-2/news-front/src/components/ApiFetch.js"],"names":["React","useState","useEffect","withCookies","axios","Card","Container","Col","Row","ApiFetch","props","token","cookies","get","news","setNews","headers","Authorization","then","res","data","map","id","link","image","title","body","slice","published"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,GAA1B,EAA+BC,GAA/B,QAA0C,iBAA1C;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC1B,QAAMC,KAAK,GAAGD,KAAK,CAACE,OAAN,CAAcC,GAAd,CAAkB,eAAlB,CAAd,CAD0B,CAE1B;;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdE,IAAAA,KAAK,CACFS,GADH,CACO,+BADP,EACwC;AACpCG,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,SAAQN,KAAM;AADvB;AAD2B,KADxC,EAMGO,IANH,CAMSC,GAAD,IAAS;AACbJ,MAAAA,OAAO,CAACI,GAAG,CAACC,IAAL,CAAP;AACD,KARH;AASD,GAVQ,EAUN,CAACT,KAAD,CAVM,CAAT;AAYA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGG,IAAI,CAACO,GAAL,CAAUP,IAAD,iBACR,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACQ,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAER,IAAI,CAACS,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAET,IAAI,CAACU,KAAf;AAAsB,IAAA,GAAG,EAAC,UAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,eAME,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAaV,IAAI,CAACW,KAAlB,MADF,eAEE,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,SAAS,EAAC,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGX,IAAI,CAACY,IAAL,CAAUC,KAAV,CAAgB,CAAhB,EAAmB,GAAnB,CADH,QAFF,eAKE;AAAG,IAAA,IAAI,EAAEb,IAAI,CAACS,IAAd;AAAoB,IAAA,KAAK,EAAC,2BAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCALF,eAQE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAiBT,IAAI,CAACc,SAAtB,CARF,CANF,CADF,CADF,CADF,CADF,CADF,CADD,CADH,CADF;AAqDD,CAtED;;AAwEA,eAAezB,WAAW,CAACM,QAAD,CAA1B","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { withCookies } from \"react-cookie\";\nimport axios from \"axios\";\nimport { Card, Container, Col, Row } from \"react-bootstrap\";\n\nconst ApiFetch = (props) => {\n  const token = props.cookies.get(\"current-token\");\n  // console.log(token)\n  const [news, setNews] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(\"http://127.0.0.1:8000/api/v1/\", {\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n      })\n      .then((res) => {\n        setNews(res.data);\n      });\n  }, [token]);\n\n  return (\n    <div>\n      {news.map((news) => (\n        <Container>\n          <ul>\n            <li key={news.id}>\n              <Card className=\"card\">\n                <Card.Body>\n                  <Row>\n                    <Col sm={3}>\n                      <a href={news.link}>\n                        <img src={news.image} alt=\"news_img\" />\n                      </a>\n                    </Col>\n                    <Col sm={9}>\n                      <Card.Title>{news.title} </Card.Title>\n                      <Card.Text className=\"card-body\">\n                        {news.body.slice(0, 105)}...\n                      </Card.Text>\n                      <a href={news.link} class=\"btn btn-outline-secondary\">\n                        続きを読む\n                      </a>\n                      <Card.Text>更新日時：{news.published}</Card.Text>\n                    </Col>\n                  </Row>\n                </Card.Body>\n              </Card>\n            </li>\n          </ul>\n          {/* <ReactPaginate\n            pageCount={Math.ceil(news.id.length / 4)} //総ページ数。今回は一覧表示したいデータ数 / 1ページあたりの表示数としてます。\n            marginPagesDisplayed={2} //先頭と末尾に表示するページの数。今回は2としたので1,2…今いるページの前後…後ろから2番目, 1番目 のように表示されます。\n            pageRangeDisplayed={5} //上記の「今いるページの前後」の番号をいくつ表示させるかを決めます。\n            onPageChange={this.pageChange} //ページネーションのリンクをクリックしたときのイベント(詳しくは下で解説します)\n            containerClassName='pagination' //ページネーションリンクの親要素のクラス名\n            pageClassName='page-item' //各子要素(li要素)のクラス名\n            pageLinkClassName='page-link' //ページネーションのリンクのクラス名\n            activeClassName='active' //今いるページ番号のクラス名。今いるページの番号だけ太字にしたりできます \n            previousLabel='<' //前のページ番号に戻すリンクのテキスト\n            nextLabel='>' //次のページに進むボタンのテキスト\n            previousClassName='page-item' // '<'の親要素(li)のクラス名\n            nextClassName='page-item' //'>'の親要素(li)のクラス名\n            previousLinkClassName='page-link'  //'<'のリンクのクラス名\n            nextLinkClassName='page-link'//'>'のリンクのクラス名\n            disabledClassName='disabled' //先頭 or 末尾に行ったときにそれ以上戻れ(進め)なくするためのクラス\n            breakLabel='...' // ページがたくさんあるときに表示しない番号に当たる部分をどう表示するか\n            breakClassName='page-item' // 上記の「…」のクラス名\n            breakLinkClassName='page-link' // 「…」の中のリンクにつけるクラス\n          /> */}\n        </Container>\n      ))}\n    </div>\n  );\n};\n\nexport default withCookies(ApiFetch);\n"]},"metadata":{},"sourceType":"module"}